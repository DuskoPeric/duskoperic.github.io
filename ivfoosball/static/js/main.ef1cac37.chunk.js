(this.webpackJsonpivtablefootbal=this.webpackJsonpivtablefootbal||[]).push([[0],{43:function(e,t,a){e.exports=a.p+"static/media/tab.bf2c0a67.png"},44:function(e,t,a){e.exports=a.p+"static/media/sch.eec33708.png"},49:function(e,t,a){e.exports=a(87)},54:function(e,t,a){},55:function(e,t,a){},87:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(26),o=a.n(c),l=a(28),s=(a(54),a(4)),i=a(5),u=a(7),p=a(6),m=a(8),h=(a(55),function(e){return e.children}),b=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(h,null,r.a.createElement("main",null,this.props.children))}}]),t}(n.Component),f=a(43),d=a.n(f),v=a(44),O=a.n(v),g=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:this.props.table===this.props.link?"active":null,onClick:this.props.changeTab},r.a.createElement("img",{src:this.props.img,alt:this.props.alt}))}}]),t}(n.Component),j=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).changeTabFunction=function(e){a.props.changeTabCallback(e)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"side-menu"},r.a.createElement(g,{table:this.props.table,img:d.a,alt:"table",link:"table",changeTab:function(){return e.changeTabFunction("table")}}),r.a.createElement(g,{table:this.props.table,img:O.a,alt:"schedule",link:"schedule",changeTab:function(){return e.changeTabFunction("schedule")}}))}}]),t}(n.Component),E=a(17),y=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"item"},r.a.createElement("p",{className:"no"},this.props.number),r.a.createElement("p",{className:"name"},this.props.item.name),r.a.createElement("p",{className:"noItem"},this.props.item.wins+this.props.item.lose),r.a.createElement("p",{className:"noItem "},this.props.item.wins),r.a.createElement("p",{className:"noItem "},this.props.item.lose),r.a.createElement("p",{className:"noItem "},this.props.item.score))}}]),t}(n.Component),k=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=0,t=this.props.teams.map((function(t){return e++,r.a.createElement(y,{item:t,key:t.id,number:e})}));return r.a.createElement("div",{className:"table"},r.a.createElement("p",null,"Table"),r.a.createElement("div",{className:"order"},r.a.createElement("div",{className:"item-label"},r.a.createElement("p",{className:"no"},"#"),r.a.createElement("p",{className:"name"},"Name"),r.a.createElement("p",{className:"noItem"},"M"),r.a.createElement("p",{className:"noItem"},"W"),r.a.createElement("p",{className:"noItem"},"L"),r.a.createElement("p",{className:"noItem "},"P")),r.a.createElement("div",{className:"table-content"},t)))}}]),t}(n.Component),w=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.match.map((function(e,t){return r.a.createElement("div",{className:"resultHolder",key:t},r.a.createElement("div",null,r.a.createElement("p",{className:"p1"},e.p1),r.a.createElement("p",{className:"p2",key:t},e.p2)),r.a.createElement("p",{className:e.played?"vs hide":"vs showFlex"},"VS"),r.a.createElement("p",{className:e.played?"result show":"result hide"},r.a.createElement("span",null,e.p1r),r.a.createElement("span",null,e.p2r)))})),t=this.props.show?e:null;return r.a.createElement(h,null,t)}}]),t}(n.Component),T=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={active:"0"},a.changeTab=function(e){a.setState({active:e})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.results.map((function(t,a){return r.a.createElement("span",{className:a==e.state.active?"tab active":"tab",key:a,onClick:function(){return e.changeTab(a)}},a+1)})),a=this.props.results.map((function(t,a){return r.a.createElement(w,{key:a,match:t,show:e.state.active==a})}));return r.a.createElement("div",{className:"results"},r.a.createElement("p",null,"Results"),r.a.createElement("div",{className:"tabsHolder"},t),r.a.createElement("div",{className:"holdResult"},a))}}]),t}(n.Component),N=a(19),P=a.n(N),S=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Loader"},"Loading...")}}]),t}(n.Component),C=a(20);function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function M(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var A=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0},a.changeTab=function(e){a.props.table!==e&&a.setState({table:e})},a.getTable=function(e){var t=e.val(),n=[],r=0;for(var c in t)t.hasOwnProperty(c)&&(r++,n.push(M({},t[c],{id:r})));n.sort((function(e,t){return e.score<t.score?1:-1})),console.log(n);var o=n[3];n[3]=n[5],n[5]=o,a.props.setTable(n),a.setState({loading:!1})},a.getResults=function(e){var t=e.val();a.props.setResults(t)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=P.a.database().ref().child("teams"),t=P.a.database().ref().child("round");e.on("value",this.getTable),t.on("value",this.getResults)}},{key:"render",value:function(){var e="",t=this.state.loading?r.a.createElement(S,null):r.a.createElement(k,{teams:this.props.teamOrder});return e="table"===this.props.table?t:r.a.createElement(T,{results:this.props.results}),r.a.createElement(h,null,e)}}]),t}(n.Component),L=Object(C.b)((function(e){return{teamOrder:e.home.teamOrder,results:e.home.results}}),(function(e){return{setTable:function(t){return e(function(e){return{type:"SET_TABLE",obj:e}}(t))},setResults:function(t){return e(function(e){return{type:"SET_RESULTS",res:e}}(t))}}}))(A),R=a(18),I=a(47),B=a.n(I).a.create({baseURL:"https://ivfootball-fd9bf.firebaseio.com/"}),x=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"game-holder"},r.a.createElement("p",null,this.props.team.p1," ",r.a.createElement("span",null,this.props.team.p1r)),r.a.createElement("p",null,this.props.team.p2," ",r.a.createElement("span",null,this.props.team.p2r)),this.props.team.played?null:r.a.createElement("button",{onClick:this.props.clicked},"Edit"))}}]),t}(n.Component),H=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(h,null,r.a.createElement("div",{className:"Modal"},this.props.children))}}]),t}(n.Component);function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function W(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var U=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={teams:null,teamsTable:null,newPlayer:null,rounds:[],edit:!1,activeMatch:{},loged:!1,objLog:{returnSecureToken:!0,user:"",email:""}},a.getRounds=function(e){if(e.val()){var t=e.val(),n=[];for(var r in t)for(var c=0;c<t[r].length;c++)t[r][c].round=r,t[r][c].match=c,n.push(t[r][c]);a.setState({rounds:n})}},a.getTeams=function(){B.get("teamsToPlay.json").then((function(e){var t=e.data,n=[];for(var r in t)t.hasOwnProperty(r)&&n.push(W({},t[r],{id:r}));a.setState({teamsTable:e.data});for(var c=a.schedule(n.length,n),o=0;o<c.length;o++)for(var l=0;l<c[o].length;l++)c[o][l].p1=c[o][l][0].name,c[o][l].p2=c[o][l][1].name,c[o][l].p1id=c[o][l][0].id,c[o][l].p2id=c[o][l][1].id,c[o][l].played=!1,c[o][l].splice(0,2);a.setState({teams:c})}))},a.setPairs=function(){var e=Object.assign({},a.state.teams);for(var t in e)for(var n=0;n<e[t].length;n++){var r=Object.assign({},e[t][n]);e[t][n]=W({},r)}B.put("https://ivfootball-fd9bf.firebaseio.com/round.json?auth="+a.props.token,e).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))},a.deleteTable=function(e){B.delete(e).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))},a.setTeamsTable=function(){var e=W({},a.state.teamsTable),t=[];for(var n in e)e[n].wins=0,e[n].lose=0,e[n].score=0,e[n].id=n,t.push(e[n]);B.put("https://ivfootball-fd9bf.firebaseio.com/teams.json?auth="+a.props.token,e).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))},a.inputHandler=function(e){a.setState({newPlayer:e.target.value})},a.loginHandler=function(e,t){var n=W({},a.state.objLog);"email"===t?n.email=e.target.value:n.password=e.target.value,a.setState({objLog:n})},a.inputChangeScore=function(e,t){var n=W({},a.state.activeMatch);"p1"===t?(n.p1r=e.target.value,a.setState({activeMatch:n})):(n.p2r=e.target.value,a.setState({activeMatch:n}))},a.logIn=function(e){e.preventDefault(),B.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyAMpAhWo9RXv_Y4bWR-PEWwRnPMTaiyF_E",a.state.objLog).then((function(e){console.log(e.data),a.props.setToken(e.data.idToken),a.setState({loged:!0})})).catch((function(e){console.log(e)}))},a.saveUser=function(e){e.preventDefault();var t={name:a.state.newPlayer};B.post("https://ivfootball-fd9bf.firebaseio.com/teamsToPlay.json?auth="+a.props.token,t).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))},a.selectActiveMatch=function(e){a.setState({activeMatch:e}),a.setState({edit:!0})},a.editMatch=function(){var e=W({},a.state.activeMatch),t=e.round,n=e.match;e.winner="p1",e.p1r<e.p2r&&(e.winner="p2"),e.played=!0,delete e.round,delete e.match,delete e.id,a.setMatch(t,n,e),a.updateTeam(e.p1id,e.p2id,e)},a.setMatch=function(e,t,n){B.put("/round/"+e+"/"+t+".json?auth="+a.props.token,n).then((function(e){console.log(e.data),a.setState({edit:!1})})).catch((function(e){console.log(e)}))},a.updateTeam=function(e,t,n){var r=e,c=t;"p1"!==n.winner&&(r=t,c=e),B.get("/teams/"+r+".json").then((function(e){var t=e.data;t.wins+=1,t.score+=3,B.put("/teams/"+r+".json?auth="+a.props.token,t).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)})),B.get("/teams/"+c+".json").then((function(e){var t=e.data;t.lose+=1,B.put("/teams/"+c+".json?auth="+a.props.token,t).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){P.a.database().ref().child("round").on("value",this.getRounds)}},{key:"schedule",value:function(e,t){var a=[];if(t)t=t.slice();else{t=[];for(var n=1;n<=e;n+=1)t.push(n)}e%2===1&&(t.push(this.def),e+=1);for(var r=0;r<e-1;r+=1){a[r]=[];for(var c=0;c<e/2;c+=1)t[c]!==this.def&&t[e-1-c]!==this.def&&a[r].push([t[c],t[e-1-c]]);t.splice(1,0,t.pop())}return a}},{key:"render",value:function(){var e=this,t=this.state.edit?r.a.createElement(H,null,r.a.createElement("div",null,r.a.createElement("div",{className:"form-holder"},r.a.createElement("label",null,this.state.activeMatch.p1),r.a.createElement("input",{type:"number",onChange:function(t){return e.inputChangeScore(t,"p1")}})),r.a.createElement("div",{className:"form-holder"},r.a.createElement("label",null,this.state.activeMatch.p2),r.a.createElement("input",{type:"number",onChange:function(t){return e.inputChangeScore(t,"p2")}})),r.a.createElement("button",{onClick:this.editMatch},"OK"),r.a.createElement("button",{className:"cancel",onClick:function(){return e.setState({edit:!1})}},"CANCEL"))):null,a=r.a.createElement("button",{onClick:this.getTeams,className:"regularButton"},"Get Teams");this.state.teams&&(a=r.a.createElement(h,null,r.a.createElement("button",{className:"regularButton",onClick:this.setPairs},"Set Pairs"),r.a.createElement("button",{className:"regularButton",onClick:function(){return e.deleteTable("/round.json?auth="+e.props.token)}},"Delete Pairs"),r.a.createElement("button",{className:"regularButton",onClick:this.setTeamsTable},"Set Table"),r.a.createElement("button",{className:"regularButton",onClick:function(){return e.deleteTable("/teams.json?auth="+e.props.token)}},"Delete Table")));var n=this.state.rounds.map((function(t){return r.a.createElement(x,{team:t,key:t.p1id+t.p2id,clicked:function(){return e.selectActiveMatch(t)}})})),c=this.state.loged?r.a.createElement("div",{className:"adminPanel"},r.a.createElement("div",{className:"buttonHolder"},a,r.a.createElement("br",null),r.a.createElement("form",{onSubmit:this.saveUser},r.a.createElement("input",{type:"text",onChange:this.inputHandler,className:"regularInput"}),r.a.createElement("button",{className:"regularButton"},"Add"),r.a.createElement("button",{className:"regularButton",onClick:function(){return e.deleteTable("/teamsToPlay.json?auth="+e.props.token)}},"Delete Teams"))),r.a.createElement("div",{className:"resultsHolder"},n),t):r.a.createElement("div",{className:"adminPanel"},r.a.createElement("form",{className:"login",onSubmit:this.logIn},r.a.createElement("input",{type:"email",onChange:function(t){return e.loginHandler(t,"email")},placeholder:"email"}),r.a.createElement("input",{type:"text",onChange:function(t){return e.loginHandler(t,"password")},placeholder:"password"}),r.a.createElement("button",{className:"regularButton"},"Log in")));return r.a.createElement(h,null,c)}}]),t}(n.Component),F=Object(C.b)((function(e){return{token:e.auth.token}}),(function(e){return{setToken:function(t){return e(function(e){return{type:"SET_TOKEN",token:e}}(t))}}}))(U),K=a(24);function z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function J(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?z(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):z(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var G={akcija:null,teamOrder:[],results:[]},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TABLE":return J({},e,{teamOrder:t.obj});case"SET_RESULTS":return J({},e,{results:t.res});default:return e}};function X(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?X(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):X(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var $={token:null},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TOKEN":return Y({},e,{token:t.token});default:return e}},Q=Object(K.b)({home:V,auth:q}),Z=Object(K.c)(Q);P.a.initializeApp({databaseURL:"https://ivfootball-fd9bf.firebaseio.com/"});var ee=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={table:"table"},a.changeTab=function(e){a.state.table!==e&&a.setState({table:e})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(C.a,{store:Z},r.a.createElement(b,null,r.a.createElement(l.b,{className:"admin",to:"/admin",exact:!0},"Admin"),r.a.createElement("div",{className:"pr"},r.a.createElement(j,{table:this.state.table,changeTabCallback:this.changeTab}),r.a.createElement(R.d,null,r.a.createElement(R.b,{path:"/admin",exact:!0,component:F}),r.a.createElement(R.b,{path:"/",exact:!0,render:function(t){return r.a.createElement(L,Object.assign({},t,{table:e.state.table}))}}),r.a.createElement(R.a,{to:"/"})))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var te=r.a.createElement(l.a,{basename:"/ivfoosball"},r.a.createElement(ee,null));o.a.render(te,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[49,1,2]]]);
//# sourceMappingURL=main.ef1cac37.chunk.js.map