(this.webpackJsonpivtablefootbal=this.webpackJsonpivtablefootbal||[]).push([[0],{38:function(e,t,a){e.exports=a.p+"static/media/tab.bf2c0a67.png"},39:function(e,t,a){e.exports=a.p+"static/media/sch.eec33708.png"},44:function(e,t,a){e.exports=a(81)},49:function(e,t,a){},50:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(37),l=a.n(c),o=a(24),s=(a(49),a(3)),i=a(4),u=a(6),m=a(5),p=a(7),h=(a(50),function(e){return e.children}),b=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(h,null,r.a.createElement("main",null,this.props.children))}}]),t}(n.Component),f=a(38),d=a.n(f),v=a(39),g=a.n(v),O=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:this.props.table===this.props.link?"active":null,onClick:this.props.changeTab},r.a.createElement("img",{src:this.props.img,alt:this.props.alt}))}}]),t}(n.Component),j=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).changeTabFunction=function(e){a.props.changeTabCallback(e)},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"side-menu"},r.a.createElement(O,{table:this.props.table,img:d.a,alt:"table",link:"table",changeTab:function(){return e.changeTabFunction("table")}}),r.a.createElement(O,{table:this.props.table,img:g.a,alt:"schedule",link:"schedule",changeTab:function(){return e.changeTabFunction("schedule")}}))}}]),t}(n.Component),E=a(21),y=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"item"},r.a.createElement("p",{className:"no"},this.props.number),r.a.createElement("p",{className:"name"},this.props.item.name),r.a.createElement("p",{className:"noItem"},this.props.item.wins+this.props.item.lose),r.a.createElement("p",{className:"noItem "},this.props.item.wins),r.a.createElement("p",{className:"noItem "},this.props.item.lose),r.a.createElement("p",{className:"noItem "},this.props.item.score))}}]),t}(n.Component),k=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=0,t=this.props.teams.map((function(t){return e++,r.a.createElement(y,{item:t,key:t.id,number:e})}));return r.a.createElement("div",{className:"table"},r.a.createElement("p",null,"Table"),r.a.createElement("div",{className:"order"},r.a.createElement("div",{className:"item-label"},r.a.createElement("p",{className:"no"},"#"),r.a.createElement("p",{className:"name"},"Name"),r.a.createElement("p",{className:"noItem"},"M"),r.a.createElement("p",{className:"noItem"},"W"),r.a.createElement("p",{className:"noItem"},"L"),r.a.createElement("p",{className:"noItem "},"P")),r.a.createElement("div",{className:"table-content"},t)))}}]),t}(n.Component),N=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.match.map((function(e,t){return r.a.createElement("div",{className:"resultHolder",key:t},r.a.createElement("div",null,r.a.createElement("p",{className:"p1"},e.p1),r.a.createElement("p",{className:"p2",key:t},e.p2)),r.a.createElement("p",{className:e.played?"vs hide":"vs showFlex"},"VS"),r.a.createElement("p",{className:e.played?"result show":"result hide"},r.a.createElement("span",null,e.p1r),r.a.createElement("span",null,e.p2r)))})),t=this.props.show?e:null;return r.a.createElement(h,null,t)}}]),t}(n.Component),w=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={active:"0"},a.changeTab=function(e){a.setState({active:e})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.results.map((function(t,a){return r.a.createElement("span",{className:a==e.state.active?"tab active":"tab",key:a,onClick:function(){return e.changeTab(a)}},a+1)})),a=this.props.results.map((function(t,a){return r.a.createElement(N,{key:a,match:t,show:e.state.active==a})}));return r.a.createElement("div",{className:"results"},r.a.createElement("p",null,"Results"),r.a.createElement("div",{className:"tabsHolder"},t),r.a.createElement("div",{className:"holdResult"},a))}}]),t}(n.Component),T=a(15),C=a.n(T),P=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Loader"},"Loading...")}}]),t}(n.Component);function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function M(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var D=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={teamOrder:[],results:[],loading:!0},a.changeTab=function(e){a.props.table!==e&&a.setState({table:e})},a.getTable=function(e){var t=e.val(),n=[],r=0;for(var c in t)t.hasOwnProperty(c)&&(r++,n.push(M({},t[c],{id:r})));n.sort((function(e,t){return e.score<t.score?1:-1})),a.setState({teamOrder:n,loading:!1})},a.getResults=function(e){var t=e.val();a.setState({results:t})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=C.a.database().ref().child("teams"),t=C.a.database().ref().child("round");e.on("value",this.getTable),t.on("value",this.getResults)}},{key:"render",value:function(){var e="",t=this.state.loading?r.a.createElement(P,null):r.a.createElement(k,{teams:this.state.teamOrder});return e="table"===this.props.table?t:r.a.createElement(w,{results:this.state.results}),r.a.createElement(h,null,e)}}]),t}(n.Component),I=a(14),A=a(41),L=a.n(A).a.create({baseURL:"https://ivfootball-fd9bf.firebaseio.com/"}),R=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"game-holder"},r.a.createElement("p",null,this.props.team.p1," ",r.a.createElement("span",null,this.props.team.p1r)),r.a.createElement("p",null,this.props.team.p2," ",r.a.createElement("span",null,this.props.team.p2r)),this.props.team.played?null:r.a.createElement("button",{onClick:this.props.clicked},"Edit"))}}]),t}(n.Component),B=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(h,null,r.a.createElement("div",{className:"Modal"},this.props.children))}}]),t}(n.Component);function H(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?H(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):H(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var W=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={teams:null,teamsTable:null,newPlayer:null,rounds:[],edit:!1,activeMatch:{},loged:!1,token:null,objLog:{returnSecureToken:!0,user:"",email:""}},a.getRounds=function(e){if(e.val()){var t=e.val(),n=[];for(var r in t)for(var c=0;c<t[r].length;c++)t[r][c].round=r,t[r][c].match=c,n.push(t[r][c]);a.setState({rounds:n})}},a.getTeams=function(){L.get("teamsToPlay.json").then((function(e){var t=e.data,n=[];for(var r in t)t.hasOwnProperty(r)&&n.push(x({},t[r],{id:r}));a.setState({teamsTable:e.data});for(var c=a.schedule(n.length,n),l=0;l<c.length;l++)for(var o=0;o<c[l].length;o++)c[l][o].p1=c[l][o][0].name,c[l][o].p2=c[l][o][1].name,c[l][o].p1id=c[l][o][0].id,c[l][o].p2id=c[l][o][1].id,c[l][o].played=!1,c[l][o].splice(0,2);a.setState({teams:c})}))},a.setPairs=function(){var e=Object.assign({},a.state.teams);for(var t in e)for(var n=0;n<e[t].length;n++){var r=Object.assign({},e[t][n]);e[t][n]=x({},r)}L.put("https://ivfootball-fd9bf.firebaseio.com/round.json?auth="+a.state.token,e).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))},a.deleteTable=function(e){L.delete(e).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))},a.setTeamsTable=function(){var e=x({},a.state.teamsTable),t=[];for(var n in e)e[n].wins=0,e[n].lose=0,e[n].score=0,e[n].id=n,t.push(e[n]);L.put("https://ivfootball-fd9bf.firebaseio.com/teams.json?auth="+a.state.token,e).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))},a.inputHandler=function(e){a.setState({newPlayer:e.target.value})},a.loginHandler=function(e,t){var n=x({},a.state.objLog);"email"===t?n.email=e.target.value:n.password=e.target.value,a.setState({objLog:n})},a.inputChangeScore=function(e,t){var n=x({},a.state.activeMatch);"p1"===t?(n.p1r=e.target.value,a.setState({activeMatch:n})):(n.p2r=e.target.value,a.setState({activeMatch:n}))},a.logIn=function(e){e.preventDefault(),L.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyAMpAhWo9RXv_Y4bWR-PEWwRnPMTaiyF_E",a.state.objLog).then((function(e){a.setState({loged:!0,token:e.data.idToken})})).catch((function(e){console.log(e)}))},a.saveUser=function(e){e.preventDefault();var t={name:a.state.newPlayer};L.post("https://ivfootball-fd9bf.firebaseio.com/teamsToPlay.json?auth="+a.state.token,t).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))},a.selectActiveMatch=function(e){a.setState({activeMatch:e}),a.setState({edit:!0})},a.editMatch=function(){var e=x({},a.state.activeMatch),t=e.round,n=e.match;e.winner="p1",e.p1r<e.p2r&&(e.winner="p2"),e.played=!0,delete e.round,delete e.match,delete e.id,a.setMatch(t,n,e),a.updateTeam(e.p1id,e.p2id,e)},a.setMatch=function(e,t,n){L.put("/round/"+e+"/"+t+".json?auth="+a.state.token,n).then((function(e){console.log(e.data),a.setState({edit:!1})})).catch((function(e){console.log(e)}))},a.updateTeam=function(e,t,n){var r=e,c=t;"p1"!==n.winner&&(r=t,c=e),L.get("/teams/"+r+".json").then((function(e){var t=e.data;t.wins+=1,t.score+=3,L.put("/teams/"+r+".json?auth="+a.state.token,t).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)})),L.get("/teams/"+c+".json").then((function(e){var t=e.data;t.lose+=1,L.put("/teams/"+c+".json",t).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){C.a.database().ref().child("round").on("value",this.getRounds)}},{key:"schedule",value:function(e,t){var a=[];if(t)t=t.slice();else{t=[];for(var n=1;n<=e;n+=1)t.push(n)}e%2===1&&(t.push(this.def),e+=1);for(var r=0;r<e-1;r+=1){a[r]=[];for(var c=0;c<e/2;c+=1)t[c]!==this.def&&t[e-1-c]!==this.def&&a[r].push([t[c],t[e-1-c]]);t.splice(1,0,t.pop())}return a}},{key:"render",value:function(){var e=this,t=this.state.edit?r.a.createElement(B,null,r.a.createElement("div",null,r.a.createElement("div",{className:"form-holder"},r.a.createElement("label",null,this.state.activeMatch.p1),r.a.createElement("input",{type:"number",onChange:function(t){return e.inputChangeScore(t,"p1")}})),r.a.createElement("div",{className:"form-holder"},r.a.createElement("label",null,this.state.activeMatch.p2),r.a.createElement("input",{type:"number",onChange:function(t){return e.inputChangeScore(t,"p2")}})),r.a.createElement("button",{onClick:this.editMatch},"OK"),r.a.createElement("button",{className:"cancel",onClick:function(){return e.setState({edit:!1})}},"CANCEL"))):null,a=r.a.createElement("button",{onClick:this.getTeams,className:"regularButton"},"Get Teams");this.state.teams&&(a=r.a.createElement(h,null,r.a.createElement("button",{className:"regularButton",onClick:this.setPairs},"Set Pairs"),r.a.createElement("button",{className:"regularButton",onClick:function(){return e.deleteTable("/round.json")}},"Delete Pairs"),r.a.createElement("button",{className:"regularButton",onClick:this.setTeamsTable},"Set Table"),r.a.createElement("button",{className:"regularButton",onClick:function(){return e.deleteTable("/teams.json")}},"Delete Table")));var n=this.state.rounds.map((function(t){return r.a.createElement(R,{team:t,key:t.p1id+t.p2id,clicked:function(){return e.selectActiveMatch(t)}})})),c=this.state.loged?r.a.createElement("div",{className:"adminPanel"},r.a.createElement("div",{className:"buttonHolder"},a,r.a.createElement("br",null),r.a.createElement("form",{onSubmit:this.saveUser},r.a.createElement("input",{type:"text",onChange:this.inputHandler,className:"regularInput"}),r.a.createElement("button",{className:"regularButton"},"Add"),r.a.createElement("button",{className:"regularButton",onClick:function(){return e.deleteTable("/teamsToPlay.json")}},"Delete Teams"))),r.a.createElement("div",{className:"resultsHolder"},n),t):r.a.createElement("div",{className:"adminPanel"},r.a.createElement("form",{className:"login",onSubmit:this.logIn},r.a.createElement("input",{type:"email",onChange:function(t){return e.loginHandler(t,"email")},placeholder:"email"}),r.a.createElement("input",{type:"text",onChange:function(t){return e.loginHandler(t,"password")},placeholder:"password"}),r.a.createElement("button",{className:"regularButton"},"Log in")));return r.a.createElement(h,null,c)}}]),t}(n.Component);C.a.initializeApp({databaseURL:"https://ivfootball-fd9bf.firebaseio.com"});var F=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={table:"table"},a.changeTab=function(e){a.state.table!==e&&a.setState({table:e})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(b,null,r.a.createElement("div",{className:"pr"},r.a.createElement(j,{table:this.state.table,changeTabCallback:this.changeTab}),r.a.createElement(I.d,null,r.a.createElement(I.b,{path:"/admin",exact:!0,component:W}),r.a.createElement(I.b,{path:"/",exact:!0,render:function(t){return r.a.createElement(D,Object.assign({},t,{table:e.state.table}))}}),r.a.createElement(I.a,{to:"/"}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var U=r.a.createElement(o.a,{basename:"/ivfoosball"},r.a.createElement(F,null));l.a.render(U,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[44,1,2]]]);
//# sourceMappingURL=main.17971e5f.chunk.js.map